{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\santi\\\\Desktop\\\\Programacion\\\\SchoolApp-FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\santi\\\\Desktop\\\\Programacion\\\\SchoolApp-FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\santi\\\\Desktop\\\\Programacion\\\\SchoolApp-FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\santi\\\\Desktop\\\\Programacion\\\\SchoolApp-FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\santi\\\\Desktop\\\\Programacion\\\\SchoolApp-FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\santi\\\\Desktop\\\\Programacion\\\\SchoolApp-FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import\"./login.css\";import React,{Component}from\"react\";import{Formik,Form,Field}from\"formik\";import{connect}from\"react-redux\";import{logIn}from\"../../redux/actions/login\";import{bindActionCreators}from\"redux\";import{Link}from\"react-router-dom\";import{ClipLoader}from\"react-spinners\";import*as Yup from\"yup\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.getLogin=function(values){console.log(_this.props);_this.props.logIn(values).then(function(response){console.log(response);//si las props estan autorizadas de redux\nif(_this.props.authentication){//te tira al home privado\n_this.props.history.push(\"/menu\");}});};_this.getLogin=_this.getLogin.bind(_assertThisInitialized(_this));return _this;}//captura los datos de redux\n_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"loginContainer\"},React.createElement(Formik,{initialValues:{email:\"\",password:\"\"},onSubmit:this.getLogin,validationSchema:Yup.object().shape({email:Yup.string().min(2).required(\"Required\"),password:Yup.string().min(2).required(\"Required\")})},function(_ref){var handleSubmit=_ref.handleSubmit;return React.createElement(Form,{onSubmit:handleSubmit},React.createElement(\"div\",{className:\"containerLogin\"},React.createElement(\"h5\",null,\" Sign in to SchoolApp\"),React.createElement(\"div\",{className:\"login\"},React.createElement(Field,{type:\"email\",id:\"emailLogin\",name:\"email\",placeholder:\"Email\"}),React.createElement(Field,{type:\"password\",id:\"passwordLogin\",name:\"password\",placeholder:\"Password\"}),!_this2.props.isLoading?React.createElement(\"button\",{type:\"submit\",className:\"btnLogin\"},\"Sign In\")://Barrita que carga\nReact.createElement(ClipLoader,{size:25,color:\"white\",loading:true}),React.createElement(\"div\",null,_this2.props.failedLogin?React.createElement(\"div\",{className:\"bad-credentials\"}):null)),React.createElement(\"div\",{className:\"btnLinks\"},React.createElement(\"p\",null,React.createElement(Link,{className:\"btnCreateAccount\",to:\"/register\"},\"Create Account\")),React.createElement(\"p\",null,React.createElement(Link,{className:\"btnHome\",to:\"/home\"},\"Back to home\")))));}));}}]);return Login;}(Component);var mapStateToProps=function mapStateToProps(state,ownProps){return{users:state.users,isLoading:state.users.isLoading,authentication:state.users.authentication,failedLogin:state.users.failedLogin};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({logIn:logIn},dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/Users/santi/Desktop/Programacion/SchoolApp-FrontEnd/src/components/login/Login.js"],"names":["React","Component","Formik","Form","Field","connect","logIn","bindActionCreators","Link","ClipLoader","Yup","Login","props","getLogin","values","console","log","then","response","authentication","history","push","bind","email","password","object","shape","string","min","required","handleSubmit","isLoading","failedLogin","mapStateToProps","state","ownProps","users","mapDispatchToProps","dispatch"],"mappings":"o4BAAA,MAAO,aAAP,CACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,KAAvB,KAAoC,QAApC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,KAAT,KAAsB,2BAAtB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,UAAT,KAA2B,gBAA3B,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,C,GAEMC,CAAAA,K,+DACJ,eAAYC,KAAZ,CAAmB,uCACjB,uEAAMA,KAAN,GADiB,MAKnBC,QALmB,CAKR,SAACC,MAAD,CAAY,CACrBC,OAAO,CAACC,GAAR,CAAY,MAAKJ,KAAjB,EACA,MAAKA,KAAL,CAAWN,KAAX,CAAiBQ,MAAjB,EAAyBG,IAAzB,CAA8B,SAACC,QAAD,CAAc,CAC1CH,OAAO,CAACC,GAAR,CAAYE,QAAZ,EACA;AACA,GAAI,MAAKN,KAAL,CAAWO,cAAf,CAA+B,CAC7B;AACA,MAAKP,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB,EACD,CACF,CAPD,EAQD,CAfkB,CAEjB,MAAKR,QAAL,CAAgB,MAAKA,QAAL,CAAcS,IAAd,+BAAhB,CAFiB,aAGlB,CACD;yDAYS,iBACP,MACE,4BAAK,SAAS,CAAC,gBAAf,EACE,oBAAC,MAAD,EACE,aAAa,CAAE,CAAEC,KAAK,CAAE,EAAT,CAAaC,QAAQ,CAAE,EAAvB,CADjB,CAEE,QAAQ,CAAE,KAAKX,QAFjB,CAGE,gBAAgB,CAAEH,GAAG,CAACe,MAAJ,GAAaC,KAAb,CAAmB,CACnCH,KAAK,CAAEb,GAAG,CAACiB,MAAJ,GACJC,GADI,CACA,CADA,EAEJC,QAFI,CAEK,UAFL,CAD4B,CAInCL,QAAQ,CAAEd,GAAG,CAACiB,MAAJ,GACPC,GADO,CACH,CADG,EAEPC,QAFO,CAEE,UAFF,CAJyB,CAAnB,CAHpB,EAaG,kBAAGC,CAAAA,YAAH,MAAGA,YAAH,OACC,qBAAC,IAAD,EAAM,QAAQ,CAAEA,YAAhB,EACE,2BAAK,SAAS,CAAC,gBAAf,EACE,sDADF,CAEE,2BAAK,SAAS,CAAC,OAAf,EACE,oBAAC,KAAD,EACE,IAAI,CAAC,OADP,CAEE,EAAE,CAAC,YAFL,CAGE,IAAI,CAAC,OAHP,CAIE,WAAW,CAAC,OAJd,EADF,CAOE,oBAAC,KAAD,EACE,IAAI,CAAC,UADP,CAEE,EAAE,CAAC,eAFL,CAGE,IAAI,CAAC,UAHP,CAIE,WAAW,CAAC,UAJd,EAPF,CAaG,CAAC,MAAI,CAAClB,KAAL,CAAWmB,SAAZ,CACC,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,UAAhC,YADD,CAKC;AACA,oBAAC,UAAD,EAAY,IAAI,CAAE,EAAlB,CAAsB,KAAK,CAAE,OAA7B,CAAsC,OAAO,KAA7C,EAnBJ,CAqBE,+BACG,MAAI,CAACnB,KAAL,CAAWoB,WAAX,CACC,2BAAK,SAAS,CAAC,iBAAf,EADD,CAEG,IAHN,CArBF,CAFF,CA6BE,2BAAK,SAAS,CAAC,UAAf,EACE,6BACE,oBAAC,IAAD,EAAM,SAAS,CAAC,kBAAhB,CAAmC,EAAE,CAAC,WAAtC,mBADF,CADF,CAME,6BACE,oBAAC,IAAD,EAAM,SAAS,CAAC,SAAhB,CAA0B,EAAE,CAAC,OAA7B,iBADF,CANF,CA7BF,CADF,CADD,EAbH,CADF,CADF,CAgED,C,mBAlFiB/B,S,EAoFpB,GAAMgC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAQC,QAAR,CAAqB,CAC3C,MAAO,CACLC,KAAK,CAAEF,KAAK,CAACE,KADR,CAELL,SAAS,CAAEG,KAAK,CAACE,KAAN,CAAYL,SAFlB,CAGLZ,cAAc,CAAEe,KAAK,CAACE,KAAN,CAAYjB,cAHvB,CAILa,WAAW,CAAEE,KAAK,CAACE,KAAN,CAAYJ,WAJpB,CAAP,CAMD,CAPD,CAQA,GAAMK,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACvC,MAAO/B,CAAAA,kBAAkB,CAAC,CAAED,KAAK,CAALA,KAAF,CAAD,CAAYgC,QAAZ,CAAzB,CACD,CAFD,CAGA,cAAejC,CAAAA,OAAO,CAAC4B,eAAD,CAAkBI,kBAAlB,CAAP,CAA6C1B,KAA7C,CAAf","sourcesContent":["import \"./login.css\";\r\nimport React, { Component } from \"react\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { connect } from \"react-redux\";\r\nimport { logIn } from \"../../redux/actions/login\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport * as Yup from \"yup\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.getLogin = this.getLogin.bind(this);\r\n  }\r\n  //captura los datos de redux\r\n  getLogin = (values) => {\r\n    console.log(this.props);\r\n    this.props.logIn(values).then((response) => {\r\n      console.log(response);\r\n      //si las props estan autorizadas de redux\r\n      if (this.props.authentication) {\r\n        //te tira al home privado\r\n        this.props.history.push(\"/menu\");\r\n      }\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"loginContainer\">\r\n        <Formik\r\n          initialValues={{ email: \"\", password: \"\" }}\r\n          onSubmit={this.getLogin}\r\n          validationSchema={Yup.object().shape({\r\n            email: Yup.string()\r\n              .min(2,)\r\n              .required(\"Required\"),\r\n            password: Yup.string()\r\n              .min(2,)\r\n              .required(\"Required\"),           \r\n          })}\r\n\r\n        >\r\n          {({ handleSubmit }) => (\r\n            <Form onSubmit={handleSubmit}>\r\n              <div className=\"containerLogin\">\r\n                <h5> Sign in to SchoolApp</h5>\r\n                <div className=\"login\">\r\n                  <Field\r\n                    type=\"email\"\r\n                    id=\"emailLogin\"\r\n                    name=\"email\"\r\n                    placeholder=\"Email\"\r\n                  />\r\n                  <Field\r\n                    type=\"password\"\r\n                    id=\"passwordLogin\"\r\n                    name=\"password\"\r\n                    placeholder=\"Password\"\r\n                  />\r\n                  {!this.props.isLoading ? (\r\n                    <button type=\"submit\" className=\"btnLogin\">\r\n                      Sign In\r\n                    </button>\r\n                  ) : (\r\n                    //Barrita que carga\r\n                    <ClipLoader size={25} color={\"white\"} loading />\r\n                  )}\r\n                  <div>\r\n                    {this.props.failedLogin ? (\r\n                      <div className=\"bad-credentials\"></div>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n                <div className=\"btnLinks\">\r\n                  <p>\r\n                    <Link className=\"btnCreateAccount\" to=\"/register\">\r\n                      Create Account\r\n                    </Link>\r\n                  </p>\r\n                  <p>\r\n                    <Link className=\"btnHome\" to=\"/home\">\r\n                      Back to home\r\n                    </Link>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    users: state.users,\r\n    isLoading: state.users.isLoading,\r\n    authentication: state.users.authentication,\r\n    failedLogin: state.users.failedLogin,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators({ logIn }, dispatch);\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n"]},"metadata":{},"sourceType":"module"}