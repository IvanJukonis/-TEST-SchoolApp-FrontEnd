{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\santi\\\\Desktop\\\\SchoolApp-FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\santi\\\\Desktop\\\\SchoolApp-FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{FETCH_STUDENT,ADD_STUDENT_PENDING,ADD_STUDENT_SUCCESS,ADD_STUDENT_ERROR,UPDATE_STUDENT_PENDING,UPDATE_STUDENT_SUCCESS,UPDATE_STUDENT_ERROR,DELETE_STUDENT_PENDING,DELETE_STUDENT_SUCCESS,DELETE_STUDENT_ERROR,SET_SELECTED_STUDENT_ID}from\"../actions/types\";var initialState={students:[],size:\"\",error:null,isLoading:false,message:undefined,adminActions:false,studentSelected:\"\"};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case FETCH_STUDENT:return _objectSpread({},state,{students:action.payload.students,adminActions:false});case ADD_STUDENT_PENDING:return _objectSpread({},state,{isLoading:true});case ADD_STUDENT_SUCCESS:{var _newStudent=action.payload.student;var students=[].concat(_toConsumableArray(state.students),[_newStudent]);return _objectSpread({},state,{isLoading:false,students:students});}case ADD_STUDENT_ERROR:return _objectSpread({},state,{isLoading:false,error:action.error,message:action.payload.message});case UPDATE_STUDENT_PENDING:return _objectSpread({},state,{isLoading:true});case UPDATE_STUDENT_SUCCESS:{console.log(action.payload);var newStudentUpdate=_toConsumableArray(state.items);var studentToUpdate=newStudentUpdate.findIndex(function(ele){return ele._id===action.payload._id;});newStudentUpdate.splice(studentToUpdate,1,action.payload.student.data);return _objectSpread({},state,{isLoading:false,students:newStudentUpdate});}case UPDATE_STUDENT_ERROR:return _objectSpread({},state,{isLoading:false,message:action.payload.message});case SET_SELECTED_STUDENT_ID:{return _objectSpread({},state,{studentSelected:action.payload});}case DELETE_STUDENT_PENDING:return _objectSpread({},state,{isLoading:true});case DELETE_STUDENT_SUCCESS:console.log(action.payload);var newStudent=_toConsumableArray(state.students);var studentToDelete=newStudent.findIndex(function(ele){return ele._id===action.payload._id;});newStudent.splice(studentToDelete,1);return _objectSpread({},state,{isLoading:false,students:newStudent});case DELETE_STUDENT_ERROR:return _objectSpread({},state,{isLoading:false,message:action.payload.message});default:return state;}}","map":{"version":3,"sources":["C:/Users/santi/Desktop/SchoolApp-FrontEnd/src/redux/reducers/student.js"],"names":["FETCH_STUDENT","ADD_STUDENT_PENDING","ADD_STUDENT_SUCCESS","ADD_STUDENT_ERROR","UPDATE_STUDENT_PENDING","UPDATE_STUDENT_SUCCESS","UPDATE_STUDENT_ERROR","DELETE_STUDENT_PENDING","DELETE_STUDENT_SUCCESS","DELETE_STUDENT_ERROR","SET_SELECTED_STUDENT_ID","initialState","students","size","error","isLoading","message","undefined","adminActions","studentSelected","state","action","type","payload","newStudent","student","console","log","newStudentUpdate","items","studentToUpdate","findIndex","ele","_id","splice","data","studentToDelete"],"mappings":"6QAAA,OACEA,aADF,CAEEC,mBAFF,CAGEC,mBAHF,CAIEC,iBAJF,CAKEC,sBALF,CAMEC,sBANF,CAOEC,oBAPF,CAQEC,sBARF,CASEC,sBATF,CAUEC,oBAVF,CAWEC,uBAXF,KAYO,kBAZP,CAcA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,QAAQ,CAAE,EADS,CAEnBC,IAAI,CAAE,EAFa,CAGnBC,KAAK,CAAE,IAHY,CAInBC,SAAS,CAAE,KAJQ,CAKnBC,OAAO,CAAEC,SALU,CAMnBC,YAAY,CAAE,KANK,CAOnBC,eAAe,CAAE,EAPE,CAArB,CAUA,cAAe,WAAwC,IAA9BC,CAAAA,KAA8B,2DAAtBT,YAAsB,IAARU,CAAAA,MAAQ,2CACrD,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKtB,CAAAA,aAAL,CACE,wBACKoB,KADL,EAEER,QAAQ,CAAES,MAAM,CAACE,OAAP,CAAeX,QAF3B,CAGEM,YAAY,CAAE,KAHhB,GAMF,IAAKjB,CAAAA,mBAAL,CACE,wBACKmB,KADL,EAEEL,SAAS,CAAE,IAFb,GAKF,IAAKb,CAAAA,mBAAL,CAA0B,CACxB,GAAMsB,CAAAA,WAAU,CAAGH,MAAM,CAACE,OAAP,CAAeE,OAAlC,CACA,GAAMb,CAAAA,QAAQ,8BAAOQ,KAAK,CAACR,QAAb,GAAuBY,WAAvB,EAAd,CACA,wBACKJ,KADL,EAEEL,SAAS,CAAE,KAFb,CAGEH,QAAQ,CAAEA,QAHZ,GAKD,CAED,IAAKT,CAAAA,iBAAL,CACE,wBACKiB,KADL,EAEEL,SAAS,CAAE,KAFb,CAGED,KAAK,CAAEO,MAAM,CAACP,KAHhB,CAIEE,OAAO,CAAEK,MAAM,CAACE,OAAP,CAAeP,OAJ1B,GAOF,IAAKZ,CAAAA,sBAAL,CACE,wBACKgB,KADL,EAEEL,SAAS,CAAE,IAFb,GAKF,IAAKV,CAAAA,sBAAL,CAA6B,CAC3BqB,OAAO,CAACC,GAAR,CAAYN,MAAM,CAACE,OAAnB,EACA,GAAMK,CAAAA,gBAAgB,oBAAOR,KAAK,CAACS,KAAb,CAAtB,CACA,GAAMC,CAAAA,eAAe,CAAGF,gBAAgB,CAACG,SAAjB,CACtB,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,GAAJ,GAAYZ,MAAM,CAACE,OAAP,CAAeU,GAApC,EADsB,CAAxB,CAIAL,gBAAgB,CAACM,MAAjB,CAAwBJ,eAAxB,CAAyC,CAAzC,CAA4CT,MAAM,CAACE,OAAP,CAAeE,OAAf,CAAuBU,IAAnE,EACA,wBACKf,KADL,EAEEL,SAAS,CAAE,KAFb,CAGEH,QAAQ,CAAEgB,gBAHZ,GAKD,CAED,IAAKtB,CAAAA,oBAAL,CACE,wBACKc,KADL,EAEEL,SAAS,CAAE,KAFb,CAGEC,OAAO,CAAEK,MAAM,CAACE,OAAP,CAAeP,OAH1B,GAMF,IAAKN,CAAAA,uBAAL,CAA8B,CAC5B,wBACKU,KADL,EAEED,eAAe,CAAEE,MAAM,CAACE,OAF1B,GAID,CAED,IAAKhB,CAAAA,sBAAL,CACE,wBACKa,KADL,EAEEL,SAAS,CAAE,IAFb,GAKF,IAAKP,CAAAA,sBAAL,CACEkB,OAAO,CAACC,GAAR,CAAYN,MAAM,CAACE,OAAnB,EACA,GAAMC,CAAAA,UAAU,oBAAOJ,KAAK,CAACR,QAAb,CAAhB,CACA,GAAMwB,CAAAA,eAAe,CAAGZ,UAAU,CAACO,SAAX,CACtB,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,GAAJ,GAAYZ,MAAM,CAACE,OAAP,CAAeU,GAApC,EADsB,CAAxB,CAIAT,UAAU,CAACU,MAAX,CAAkBE,eAAlB,CAAmC,CAAnC,EACA,wBACKhB,KADL,EAEEL,SAAS,CAAE,KAFb,CAGEH,QAAQ,CAAEY,UAHZ,GAMF,IAAKf,CAAAA,oBAAL,CACE,wBACKW,KADL,EAEEL,SAAS,CAAE,KAFb,CAGEC,OAAO,CAAEK,MAAM,CAACE,OAAP,CAAeP,OAH1B,GAMF,QACE,MAAOI,CAAAA,KAAP,CA/FJ,CAiGD","sourcesContent":["import {\r\n  FETCH_STUDENT,\r\n  ADD_STUDENT_PENDING,\r\n  ADD_STUDENT_SUCCESS,\r\n  ADD_STUDENT_ERROR,\r\n  UPDATE_STUDENT_PENDING,\r\n  UPDATE_STUDENT_SUCCESS,\r\n  UPDATE_STUDENT_ERROR,\r\n  DELETE_STUDENT_PENDING,\r\n  DELETE_STUDENT_SUCCESS,\r\n  DELETE_STUDENT_ERROR,\r\n  SET_SELECTED_STUDENT_ID,\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  students: [],\r\n  size: \"\",\r\n  error: null,\r\n  isLoading: false,\r\n  message: undefined,\r\n  adminActions: false,\r\n  studentSelected: \"\",\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case FETCH_STUDENT:\r\n      return {\r\n        ...state,\r\n        students: action.payload.students,\r\n        adminActions: false,\r\n      };\r\n\r\n    case ADD_STUDENT_PENDING:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n\r\n    case ADD_STUDENT_SUCCESS: {\r\n      const newStudent = action.payload.student;\r\n      const students = [...state.students, newStudent];\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        students: students,\r\n      };\r\n    }\r\n\r\n    case ADD_STUDENT_ERROR:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: action.error,\r\n        message: action.payload.message,\r\n      };\r\n\r\n    case UPDATE_STUDENT_PENDING:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n\r\n    case UPDATE_STUDENT_SUCCESS: {\r\n      console.log(action.payload);\r\n      const newStudentUpdate = [...state.items];\r\n      const studentToUpdate = newStudentUpdate.findIndex(\r\n        (ele) => ele._id === action.payload._id\r\n      );\r\n\r\n      newStudentUpdate.splice(studentToUpdate, 1, action.payload.student.data);\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        students: newStudentUpdate,\r\n      };\r\n    }\r\n\r\n    case UPDATE_STUDENT_ERROR:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        message: action.payload.message,\r\n      };\r\n\r\n    case SET_SELECTED_STUDENT_ID: {\r\n      return {\r\n        ...state,\r\n        studentSelected: action.payload,\r\n      };\r\n    }\r\n\r\n    case DELETE_STUDENT_PENDING:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n\r\n    case DELETE_STUDENT_SUCCESS:\r\n      console.log(action.payload);\r\n      const newStudent = [...state.students];\r\n      const studentToDelete = newStudent.findIndex(\r\n        (ele) => ele._id === action.payload._id\r\n      );\r\n\r\n      newStudent.splice(studentToDelete, 1);\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        students: newStudent,\r\n      };\r\n\r\n    case DELETE_STUDENT_ERROR:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        message: action.payload.message,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}