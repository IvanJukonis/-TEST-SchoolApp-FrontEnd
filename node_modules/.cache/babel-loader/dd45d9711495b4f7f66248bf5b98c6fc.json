{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\santi\\\\Desktop\\\\Programacion\\\\SchoolApp-FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\santi\\\\Desktop\\\\Programacion\\\\SchoolApp-FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\santi\\\\Desktop\\\\Programacion\\\\SchoolApp-FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\santi\\\\Desktop\\\\Programacion\\\\SchoolApp-FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\santi\\\\Desktop\\\\Programacion\\\\SchoolApp-FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import\"./menu.css\";import React,{Component}from\"react\";import{Authentication,logOut}from\"../../redux/actions/login\";import{Formik,Form,Field}from\"formik\";import{connect}from\"react-redux\";import{Link}from\"react-router-dom\";import*as Yup from\"yup\";import{postStudent,fetchStudents,deleteStudent}from\"../../redux/actions/student\";import{postQualification,fetchQualifications,deleteQualification}from\"../../redux/actions/qualification\";var Menu=/*#__PURE__*/function(_Component){_inherits(Menu,_Component);function Menu(props){var _this;_classCallCheck(this,Menu);_this=_possibleConstructorReturn(this,_getPrototypeOf(Menu).call(this,props));_this.state={//State fot the PopUp\ncheck:false,chek2:false};return _this;}_createClass(Menu,[{key:\"componentDidMount\",value:function componentDidMount(){//Fetch will go to back end and return the students\nthis.props.fetchStudents();this.props.fetchQualifications();}},{key:\"render\",value:function render(){var _this2=this;console.log(this.props.qualificationList);return React.createElement(\"div\",{className:\"containerMenu\"},React.createElement(\"div\",{className:this.state.check?\"overlayEnabled\":\"overlayDisabled\"}),React.createElement(\"div\",{className:this.state.check?\"popUpEnabled\":\"popUpDisabled\"},React.createElement(Formik,{initialValues:{name:\"\",lastname:\"\",age:\"\",class:\"\"},onSubmit:function onSubmit(values){//Call for the action \"postStudent\"\n_this2.props.postStudent(values);_this2.setState(function(prevState){return{check:!prevState.check};});}//Validation with Yup\n,validationSchema:Yup.object().shape({name:Yup.string().min(2,\"muy cortito\").required(\"Required\"),lastname:Yup.string().min(2,\"muy cortito\").required(\"Required\"),age:Yup.number().min(2,\"muy cortito\").required(\"Required\"),class:Yup.string().min(2,\"muy cortito\").required(\"Required\")})},function(_ref){var handleSubmit=_ref.handleSubmit;return React.createElement(Form,{onSubmit:handleSubmit},React.createElement(\"div\",{className:\"containerAddStudent\"},React.createElement(\"h4\",null,\" Add Students\"),React.createElement(Field,{type:\"text\",className:\"nameStudent\",name:\"name\",placeholder:\"Name\"}),React.createElement(Field,{type:\"text\",className:\"lastnameStudent\",name:\"lastname\",placeholder:\"Last name\"}),React.createElement(Field,{type:\"text\",className:\"ageStudent\",name:\"age\",placeholder:\"Age\"}),React.createElement(Field,{type:\"text\",className:\"classStudent\",name:\"class\",placeholder:\"Class\"}),React.createElement(\"button\",{className:\"btnAddStudent\",type:\"submit\"},\"Add\"),React.createElement(\"button\",{type:\"button\",className:\"btnAddStudent\",onClick:function onClick(){return _this2.setState(function(prevState){return{check:!prevState.check};});}},\"Back\")));})),React.createElement(\"div\",{className:this.state.check2?\"overlayEnabledMark\":\"overlayDisabledMark\"}),React.createElement(\"div\",{className:this.state.check2?\"popUpEnabledMark\":\"popUpDisabledMark\"},React.createElement(Formik,{initialValues:{studentId:\"\",subject:\"\",note:\"\"},onSubmit:function onSubmit(values){//Call for the action \"postQualification\"\n_this2.props.postQualification(values);_this2.setState(function(prevState){return{check2:!prevState.check2};});},validationSchema:Yup.object().shape({studentId:Yup.string().min(2,\"muy cortito\").required(\"Required\"),subject:Yup.string().min(2,\"muy cortito\").required(\"Required\"),note:Yup.number().min(2,\"muy cortito\").required(\"Required\")})},function(_ref2){var handleSubmit=_ref2.handleSubmit;return React.createElement(Form,{onSubmit:handleSubmit},React.createElement(\"div\",{className:\"containerAddMarks\"},React.createElement(\"h4\",null,\" Add Notes\"),React.createElement(Field,{type:\"text\",as:\"select\",className:\"nameStudentMark\",name:\"studentId\",placeholder:\"Student\"},React.createElement(\"option\",{defaultValue:true},\"Select an student\"),_this2.props.studentList.map(function(student){return React.createElement(\"option\",{//The id is saved into the values of formik\nvalue:student._id//Concatenate the name student with the lastname\n},\"\".concat(student.name,\"-\").concat(student.lastname));})),React.createElement(Field,{type:\"text\",className:\"subjectMark\",name:\"subject\",placeholder:\"Subject\"}),React.createElement(Field,{type:\"text\",className:\"noteMark\",name:\"note\",placeholder:\"Note\"}),React.createElement(\"button\",{className:\"btnAddMark\",type:\"submit\"},\"Add\"),React.createElement(\"button\",{type:\"button\",className:\"btnAddMark\",onClick:function onClick(){return _this2.setState(function(prevState){return{check2:!prevState.check2};});}},\"Back\")));})),React.createElement(\"table\",{className:\"content-table-student\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Actions\"),React.createElement(\"th\",null,\"Name\"),React.createElement(\"th\",null,\"Last name\"),React.createElement(\"th\",null,\"Age\"),React.createElement(\"th\",null,\"Class\"))),React.createElement(\"tbody\",null,this.props.studentList&&this.props.studentList.map(function(student){//Show the students if they exist. For aeach student return a row. Everytime it is run a new one is added\nreturn React.createElement(\"tr\",null,React.createElement(\"td\",null,React.createElement(\"button\",{className:\"btnDeleteStudent\",onClick:function onClick(){//Call for the action \"deleteStudent\"\n_this2.props.deleteStudent(student._id);}},\"Delete\")),React.createElement(\"td\",null,student.name),React.createElement(\"td\",null,student.lastname),React.createElement(\"td\",null,student.age),React.createElement(\"td\",null,student.class));})),React.createElement(\"button\",{className:\"btnAdd\",onClick:function onClick(){return _this2.setState(function(prevState){return{check:!prevState.check};});}},\"Add\")),React.createElement(\"table\",{className:\"content-table-mark\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Actions\"),React.createElement(\"th\",null,\"Student\"),React.createElement(\"th\",null,\"Subject\"),React.createElement(\"th\",null,\"Note\"))),React.createElement(\"tbody\",null,this.props.qualificationList&&this.props.qualificationList.map(function(qualification){//Show the qualification if they exist. For each qualification return a row. Everytime it is run a new one is added\nreturn React.createElement(\"tr\",null,React.createElement(\"button\",{className:\"btnDeleteQualification\",onClick:function onClick(){//Call for the action \"deleteQualification\"\n_this2.props.deleteQualification(qualification._id);}},\"Delete\"),React.createElement(\"td\",null,\"\".concat(qualification.student.name,\"-\").concat(qualification.student.lastname)),React.createElement(\"td\",null,qualification.subject),React.createElement(\"td\",null,qualification.note));})),React.createElement(\"button\",{className:\"btnAdd\",onClick:function onClick(){return _this2.setState(function(prevState){return{check2:!prevState.check2};});}},\"Add\")),React.createElement(\"div\",{className:\"buttonLogOut\"},React.createElement(Link,{className:\"btnLogOut\",to:\"/login\",onClick:this.props.logOut},\"Log Out\")));}}]);return Menu;}(Component);var mapStateToProps=function mapStateToProps(state){return{isLoading:state.isLoading,authentication:state.AUTHENTICATION,studentList:state.students.students,// Bring the students\nqualificationList:state.qualifications.qualifications//Bring the qualification\n};};//Call for the actions\nvar mapDispatchToProps={Authentication:Authentication,logOut:logOut,postStudent:postStudent,fetchStudents:fetchStudents,postQualification:postQualification,fetchQualifications:fetchQualifications,deleteStudent:deleteStudent,deleteQualification:deleteQualification};export default connect(mapStateToProps,mapDispatchToProps)(Menu);","map":{"version":3,"sources":["C:/Users/santi/Desktop/Programacion/SchoolApp-FrontEnd/src/components/menu/menu.js"],"names":["React","Component","Authentication","logOut","Formik","Form","Field","connect","Link","Yup","postStudent","fetchStudents","deleteStudent","postQualification","fetchQualifications","deleteQualification","Menu","props","state","check","chek2","console","log","qualificationList","name","lastname","age","class","values","setState","prevState","object","shape","string","min","required","number","handleSubmit","check2","studentId","subject","note","studentList","map","student","_id","qualification","mapStateToProps","isLoading","authentication","AUTHENTICATION","students","qualifications","mapDispatchToProps"],"mappings":"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","sourcesContent":["import \"./menu.css\";\r\nimport React, { Component } from \"react\";\r\nimport { Authentication, logOut } from \"../../redux/actions/login\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport * as Yup from \"yup\";\r\nimport {\r\n  postStudent,\r\n  fetchStudents,\r\n  deleteStudent,\r\n} from \"../../redux/actions/student\";\r\nimport {\r\n  postQualification,\r\n  fetchQualifications,\r\n  deleteQualification,\r\n} from \"../../redux/actions/qualification\";\r\n\r\nclass Menu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //State fot the PopUp\r\n      check: false,\r\n      chek2: false,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    //Fetch will go to back end and return the students\r\n    this.props.fetchStudents();\r\n    this.props.fetchQualifications();\r\n  }\r\n\r\n  render() {\r\n    console.log(this.props.qualificationList);\r\n    return (\r\n      <div className=\"containerMenu\">\r\n        {/*PopUp*/}\r\n        <div\r\n          className={this.state.check ? \"overlayEnabled\" : \"overlayDisabled\"}\r\n        ></div>\r\n        <div className={this.state.check ? \"popUpEnabled\" : \"popUpDisabled\"}>\r\n          {/*Start Formik students*/}\r\n          <Formik\r\n            initialValues={{ name: \"\", lastname: \"\", age: \"\", class: \"\" }}\r\n            onSubmit={(values) => {\r\n              //Call for the action \"postStudent\"\r\n              this.props.postStudent(values);\r\n              this.setState((prevState) => ({ check: !prevState.check }));\r\n            }}\r\n            //Validation with Yup\r\n            validationSchema={Yup.object().shape({\r\n              name: Yup.string()\r\n                .min(2, \"muy cortito\")\r\n                .required(\"Required\"),\r\n              lastname: Yup.string()\r\n                .min(2, \"muy cortito\")\r\n                .required(\"Required\"),\r\n              age: Yup.number()\r\n                .min(2, \"muy cortito\")\r\n                .required(\"Required\"),\r\n              class: Yup.string()\r\n                .min(2, \"muy cortito\")\r\n                .required(\"Required\"),\r\n            })}\r\n          >\r\n            {({ handleSubmit }) => (\r\n              <Form onSubmit={handleSubmit}>\r\n                <div className=\"containerAddStudent\">\r\n                  <h4> Add Students</h4>\r\n\r\n                  <Field\r\n                    type=\"text\"\r\n                    className=\"nameStudent\"\r\n                    name=\"name\"\r\n                    placeholder=\"Name\"\r\n                  />\r\n\r\n                  <Field\r\n                    type=\"text\"\r\n                    className=\"lastnameStudent\"\r\n                    name=\"lastname\"\r\n                    placeholder=\"Last name\"\r\n                  />\r\n                  <Field\r\n                    type=\"text\"\r\n                    className=\"ageStudent\"\r\n                    name=\"age\"\r\n                    placeholder=\"Age\"\r\n                  />\r\n                  <Field\r\n                    type=\"text\"\r\n                    className=\"classStudent\"\r\n                    name=\"class\"\r\n                    placeholder=\"Class\"\r\n                  />\r\n                  <button className=\"btnAddStudent\" type=\"submit\">\r\n                    Add\r\n                  </button>\r\n                  {/*Close PopUp*/}\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btnAddStudent\"\r\n                    onClick={() =>\r\n                      this.setState((prevState) => ({\r\n                        check: !prevState.check,\r\n                      }))\r\n                    }\r\n                  >\r\n                    Back\r\n                  </button>\r\n                </div>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n        <div\r\n          className={\r\n            this.state.check2 ? \"overlayEnabledMark\" : \"overlayDisabledMark\"\r\n          }\r\n        ></div>\r\n        <div\r\n          className={\r\n            this.state.check2 ? \"popUpEnabledMark\" : \"popUpDisabledMark\"\r\n          }\r\n        >\r\n          {/*Start Formik qualification*/}\r\n          <Formik\r\n            initialValues={{ studentId: \"\", subject: \"\", note: \"\" }}\r\n            onSubmit={(values) => {\r\n              //Call for the action \"postQualification\"\r\n              this.props.postQualification(values);\r\n              this.setState((prevState) => ({ check2: !prevState.check2 }));\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              studentId: Yup.string()\r\n                .min(2, \"muy cortito\")\r\n                .required(\"Required\"),\r\n              subject: Yup.string()\r\n                .min(2, \"muy cortito\")\r\n                .required(\"Required\"),\r\n              note: Yup.number()\r\n                .min(2, \"muy cortito\")\r\n                .required(\"Required\"),\r\n            })}\r\n          >\r\n            {({ handleSubmit }) => (\r\n              <Form onSubmit={handleSubmit}>\r\n                <div className=\"containerAddMarks\">\r\n                  <h4> Add Notes</h4>\r\n                  <Field\r\n                    type=\"text\"\r\n                    as=\"select\"\r\n                    className=\"nameStudentMark\"\r\n                    name=\"studentId\"\r\n                    placeholder=\"Student\"\r\n                  >\r\n                    <option defaultValue>Select an student</option>\r\n                    {this.props.studentList.map((student) => {\r\n                      return (\r\n                        <option\r\n                          //The id is saved into the values of formik\r\n                          value={student._id}\r\n                          //Concatenate the name student with the lastname\r\n                        >{`${student.name}-${student.lastname}`}</option>\r\n                      );\r\n                    })}\r\n                  </Field>\r\n                  <Field\r\n                    type=\"text\"\r\n                    className=\"subjectMark\"\r\n                    name=\"subject\"\r\n                    placeholder=\"Subject\"\r\n                  />\r\n                  <Field\r\n                    type=\"text\"\r\n                    className=\"noteMark\"\r\n                    name=\"note\"\r\n                    placeholder=\"Note\"\r\n                  />\r\n                  <button className=\"btnAddMark\" type=\"submit\">\r\n                    Add\r\n                  </button>\r\n                  {/*Close PopUp*/}\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btnAddMark\"\r\n                    onClick={() =>\r\n                      this.setState((prevState) => ({\r\n                        check2: !prevState.check2,\r\n                      }))\r\n                    }\r\n                  >\r\n                    Back\r\n                  </button>\r\n                </div>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n        <table className=\"content-table-student\">\r\n          <thead>\r\n            <tr>\r\n              {/*Name of the columns*/}\r\n              <th>Actions</th>\r\n              <th>Name</th>\r\n              <th>Last name</th>\r\n              <th>Age</th>\r\n              <th>Class</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.props.studentList &&\r\n              this.props.studentList.map((student) => {\r\n                //Show the students if they exist. For aeach student return a row. Everytime it is run a new one is added\r\n                return (\r\n                  <tr>\r\n                    <td>\r\n                      <button\r\n                        className=\"btnDeleteStudent\"\r\n                        onClick={() => {\r\n                          //Call for the action \"deleteStudent\"\r\n                          this.props.deleteStudent(student._id);\r\n                        }}\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </td>\r\n                    {/*Bring the atributte of the student*/}\r\n                    <td>{student.name}</td>\r\n                    <td>{student.lastname}</td>\r\n                    <td>{student.age}</td>\r\n                    <td>{student.class}</td>\r\n                  </tr>\r\n                );\r\n              })}\r\n          </tbody>\r\n          {/*Open PopUp*/}\r\n          <button\r\n            className=\"btnAdd\"\r\n            onClick={() =>\r\n              this.setState((prevState) => ({ check: !prevState.check }))\r\n            }\r\n          >\r\n            Add\r\n          </button>\r\n        </table>\r\n        <table className=\"content-table-mark\">\r\n          <thead>\r\n            <tr>\r\n              <th>Actions</th>\r\n              <th>Student</th>\r\n              <th>Subject</th>\r\n              <th>Note</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.props.qualificationList &&\r\n              this.props.qualificationList.map((qualification) => {\r\n                //Show the qualification if they exist. For each qualification return a row. Everytime it is run a new one is added\r\n                return (\r\n                  <tr>\r\n                    <button\r\n                      className=\"btnDeleteQualification\"\r\n                      onClick={() => {\r\n                        //Call for the action \"deleteQualification\"\r\n                        this.props.deleteQualification(qualification._id);\r\n                      }}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                    {/*Bring the atributte of the student*/}\r\n                    <td>{`${qualification.student.name}-${qualification.student.lastname}`}</td>\r\n                    <td>{qualification.subject}</td>\r\n                    <td>{qualification.note}</td>\r\n                  </tr>\r\n                );\r\n              })}\r\n          </tbody>\r\n          {/*Open PopUp*/}\r\n          <button\r\n            className=\"btnAdd\"\r\n            onClick={() =>\r\n              this.setState((prevState) => ({ check2: !prevState.check2 }))\r\n            }\r\n          >\r\n            Add\r\n          </button>\r\n        </table>\r\n        <div className=\"buttonLogOut\">\r\n          <Link className=\"btnLogOut\" to=\"/login\" onClick={this.props.logOut}>\r\n            Log Out\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isLoading: state.isLoading,\r\n    authentication: state.AUTHENTICATION,\r\n    studentList: state.students.students, // Bring the students\r\n    qualificationList: state.qualifications.qualifications, //Bring the qualification\r\n  };\r\n};\r\n//Call for the actions\r\nconst mapDispatchToProps = {\r\n  Authentication,\r\n  logOut,\r\n  postStudent,\r\n  fetchStudents,\r\n  postQualification,\r\n  fetchQualifications,\r\n  deleteStudent,\r\n  deleteQualification,\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n"]},"metadata":{},"sourceType":"module"}