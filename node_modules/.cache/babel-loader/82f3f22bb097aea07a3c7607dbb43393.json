{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\santi\\\\Desktop\\\\Programacion\\\\SchoolApp-FrontEnd\\\\src\\\\components\\\\login\\\\Login.js\";\nimport \"./login.css\";\nimport React, { Component } from \"react\";\nimport { Formik, Form, Field } from \"formik\";\nimport { connect } from \"react-redux\";\nimport { logIn } from \"../../redux/actions/login\";\nimport { bindActionCreators } from \"redux\";\nimport { Link } from \"react-router-dom\";\nimport { ClipLoader } from \"react-spinners\";\nimport * as Yup from \"yup\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getLogin = values => {\n      console.log(this.props);\n      this.props.logIn(values).then(response => {\n        console.log(response); //si las props estan autorizadas de redux\n\n        if (this.props.authentication) {\n          //te tira al home privado\n          this.props.history.push(\"/menu\");\n        }\n      });\n    };\n\n    this.getLogin = this.getLogin.bind(this);\n  } //captura los datos de redux\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"loginContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(Formik, {\n      initialValues: {\n        email: \"\",\n        password: \"\"\n      },\n      onSubmit: this.getLogin,\n      validationSchema: Yup.object().shape({\n        email: Yup.string().min(2).required(\"Required\"),\n        password: Yup.string().min(2).required(\"Required\")\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, ({\n      handleSubmit\n    }) => React.createElement(Form, {\n      onSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"containerLogin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \" Sign in to SchoolApp\"), React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(Field, {\n      type: \"email\",\n      id: \"emailLogin\",\n      name: \"email\",\n      placeholder: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(Field, {\n      type: \"password\",\n      id: \"passwordLogin\",\n      name: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), !this.props.isLoading ? React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btnLogin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Sign In\") : //Barrita que carga\n    React.createElement(ClipLoader, {\n      size: 25,\n      color: \"white\",\n      loading: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, this.props.failedLogin ? React.createElement(\"div\", {\n      className: \"bad-credentials\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }) : null)), React.createElement(\"div\", {\n      className: \"btnLinks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"btnCreateAccount\",\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Create Account\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"btnHome\",\n      to: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Back to home\")))))));\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    users: state.users,\n    isLoading: state.users.isLoading,\n    authentication: state.users.authentication,\n    failedLogin: state.users.failedLogin\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    logIn\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/Users/santi/Desktop/Programacion/SchoolApp-FrontEnd/src/components/login/Login.js"],"names":["React","Component","Formik","Form","Field","connect","logIn","bindActionCreators","Link","ClipLoader","Yup","Login","constructor","props","getLogin","values","console","log","then","response","authentication","history","push","bind","render","email","password","object","shape","string","min","required","handleSubmit","isLoading","failedLogin","mapStateToProps","state","ownProps","users","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import \"./login.css\";\r\nimport React, { Component } from \"react\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { connect } from \"react-redux\";\r\nimport { logIn } from \"../../redux/actions/login\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport * as Yup from \"yup\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.getLogin = this.getLogin.bind(this);\r\n  }\r\n  //captura los datos de redux\r\n  getLogin = (values) => {\r\n    console.log(this.props);\r\n    this.props.logIn(values).then((response) => {\r\n      console.log(response);\r\n      //si las props estan autorizadas de redux\r\n      if (this.props.authentication) {\r\n        //te tira al home privado\r\n        this.props.history.push(\"/menu\");\r\n      }\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"loginContainer\">\r\n        <Formik\r\n          initialValues={{ email: \"\", password: \"\" }}\r\n          onSubmit={this.getLogin}\r\n          validationSchema={Yup.object().shape({\r\n            email: Yup.string()\r\n              .min(2,)\r\n              .required(\"Required\"),\r\n            password: Yup.string()\r\n              .min(2,)\r\n              .required(\"Required\"),           \r\n          })}\r\n\r\n        >\r\n          {({ handleSubmit }) => (\r\n            <Form onSubmit={handleSubmit}>\r\n              <div className=\"containerLogin\">\r\n                <h5> Sign in to SchoolApp</h5>\r\n                <div className=\"login\">\r\n                  <Field\r\n                    type=\"email\"\r\n                    id=\"emailLogin\"\r\n                    name=\"email\"\r\n                    placeholder=\"Email\"\r\n                  />\r\n                  <Field\r\n                    type=\"password\"\r\n                    id=\"passwordLogin\"\r\n                    name=\"password\"\r\n                    placeholder=\"Password\"\r\n                  />\r\n                  {!this.props.isLoading ? (\r\n                    <button type=\"submit\" className=\"btnLogin\">\r\n                      Sign In\r\n                    </button>\r\n                  ) : (\r\n                    //Barrita que carga\r\n                    <ClipLoader size={25} color={\"white\"} loading />\r\n                  )}\r\n                  <div>\r\n                    {this.props.failedLogin ? (\r\n                      <div className=\"bad-credentials\"></div>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n                <div className=\"btnLinks\">\r\n                  <p>\r\n                    <Link className=\"btnCreateAccount\" to=\"/register\">\r\n                      Create Account\r\n                    </Link>\r\n                  </p>\r\n                  <p>\r\n                    <Link className=\"btnHome\" to=\"/home\">\r\n                      Back to home\r\n                    </Link>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    users: state.users,\r\n    isLoading: state.users.isLoading,\r\n    authentication: state.users.authentication,\r\n    failedLogin: state.users.failedLogin,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators({ logIn }, dispatch);\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n"]},"metadata":{},"sourceType":"module"}