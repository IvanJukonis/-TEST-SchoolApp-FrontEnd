{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\TEST-SchoolApp-FrontEnd\\\\src\\\\components\\\\login\\\\login.js\";\nimport \"./login.css\";\nimport React, { Component } from \"react\";\nimport { Formik, Form, Field } from \"formik\";\nimport { connect } from \"react-redux\";\nimport { logIn } from \"../../redux/actions/login\";\nimport { bindActionCreators } from \"redux\";\nimport { Link } from \"react-router-dom\";\nimport { ClipLoader } from \"react-spinners\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getLogin = values => {\n      console.log(this.props);\n      this.props.logIn(values).then(response => {\n        console.log(response); //si las props estan autorizadas de redux\n\n        if (this.props.isAuth) {\n          //te tira al home privado\n          this.props.history.push(\"/register\");\n        }\n      });\n    };\n\n    this.getLogin = this.getLogin.bind(this);\n  } //captura los datos de redux\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"login-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(Formik, {\n      initialValues: {\n        name: \"\",\n        password: \"\"\n      },\n      onSubmit: this.getLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, ({\n      handleSubmit\n    }) => React.createElement(Form, {\n      onSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"containerLogin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \" Sign in to SchoolApp\"), React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(Field, {\n      type: \"email\",\n      className: \"email\",\n      name: \"email\",\n      placeholder: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(Field, {\n      type: \"password\",\n      className: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), !this.props.isLoading ? React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btnLogin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Sign In\") : //Barrita que carga\n    React.createElement(ClipLoader, {\n      size: 25,\n      color: \"white\",\n      loading: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, this.props.failedLogin ? React.createElement(\"div\", {\n      className: \"bad-credentials\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"BAD CREDENTIALS\") : null)), React.createElement(\"div\", {\n      className: \"btnLinks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"btnCreateAccount\",\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Create Account\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"btnHome\",\n      to: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Back to home\")))))));\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    users: state.users,\n    isLoading: state.users.isLoading,\n    isAuth: state.users.isAuth,\n    failedLogin: state.users.failedLogin\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    logIn\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/Users/PC/Desktop/TEST-SchoolApp-FrontEnd/src/components/login/login.js"],"names":["React","Component","Formik","Form","Field","connect","logIn","bindActionCreators","Link","ClipLoader","Login","constructor","props","getLogin","values","console","log","then","response","isAuth","history","push","bind","render","name","password","handleSubmit","isLoading","failedLogin","mapStateToProps","state","ownProps","users","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import \"./login.css\";\r\nimport React, { Component } from \"react\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { connect } from \"react-redux\";\r\nimport { logIn } from \"../../redux/actions/login\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ClipLoader } from \"react-spinners\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.getLogin = this.getLogin.bind(this);\r\n  }\r\n\r\n  //captura los datos de redux\r\n  getLogin = (values) => {\r\n    console.log(this.props);\r\n    this.props.logIn(values).then((response) => {\r\n      console.log(response);\r\n      //si las props estan autorizadas de redux\r\n      if (this.props.isAuth) {\r\n        //te tira al home privado\r\n        this.props.history.push(\"/register\");\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login-container\">\r\n        <Formik\r\n          initialValues={{ name: \"\", password: \"\" }}\r\n          onSubmit={this.getLogin}\r\n        >\r\n          {({ handleSubmit }) => (\r\n            <Form onSubmit={handleSubmit}>\r\n              <div className=\"containerLogin\">\r\n                <h5> Sign in to SchoolApp</h5>\r\n                <div className=\"login\">\r\n                <Field\r\n                    type=\"email\"\r\n                    className=\"email\"\r\n                    name=\"email\"\r\n                    placeholder=\"Email\"\r\n                  />\r\n                  <Field\r\n                    type=\"password\"\r\n                    className=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"Password\"\r\n                  />\r\n                  \r\n                  {!this.props.isLoading ? (\r\n                    <button type=\"submit\" className=\"btnLogin\">\r\n                      Sign In\r\n                    </button>\r\n                  ) : (\r\n                      //Barrita que carga\r\n                      <ClipLoader  size={25} color={\"white\"} loading />\r\n                    )}\r\n                  <div>\r\n                    {this.props.failedLogin ? (\r\n                      <div className=\"bad-credentials\">BAD CREDENTIALS</div>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n                <div className=\"btnLinks\">\r\n                  <p><Link className=\"btnCreateAccount\" to=\"/register\">Create Account</Link></p>\r\n                  <p><Link className=\"btnHome\" to=\"/home\">Back to home</Link></p>     \r\n                </div>\r\n              </div>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    users: state.users,\r\n    isLoading: state.users.isLoading,\r\n    isAuth: state.users.isAuth,\r\n    failedLogin: state.users.failedLogin,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators({ logIn }, dispatch);\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n"]},"metadata":{},"sourceType":"module"}